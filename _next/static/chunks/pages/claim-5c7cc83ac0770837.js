(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{74578:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/claim",function(){return c(98580)}])},98580:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return H}});var d=c(85893),e=c(47568),f=c(34051),g=c.n(f),h=c(2962),i=c(67294),j=c(66018),k=c(21043),l=c(87029),m=c(57345),n=c(13499),o=c(10253),p=c(64487),q=c(16766);function r(a,b){return s.apply(this,arguments)}function s(){return(s=(0,e.Z)(g().mark(function a(b,c){var d,e,f,h,i,j,k,l,m;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([b.LiqBootstrap.recipients(c),b.LiqBootstrap.totalShares(),b.Vester.totalVestingAmount(),]);case 3:return d=a.sent,f=(e=(0,o.Z)(d,3))[0],h=e[1],i=e[2],k=(j=+f.shares/+h)*+i/1e18,l=+f.lastShareIndex*+f.shares/1461501637330903e33/1e18,m=k-l,a.abrupt("return",{totalToClaim:k,totalClaimed:l,claimableAmount:m,totalAmountLeft:m});case 12:a.prev=12,a.t0=a.catch(0),console.error("Fetch Initial Data error ->",a.t0),p.Tb(a.t0);case 16:case"end":return a.stop()}},a,null,[[0,12]])}))).apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){return(u=(0,e.Z)(g().mark(function a(b,c){var d,e,f;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c("loading-transaction"),a.next=4,b.LiqBootstrap.estimateGas.claim();case 4:return e=(d=a.sent).mul((0,q.Md)("11")).div((0,q.Md)("10")),a.next=8,b.LiqBootstrap.claim({gasLimit:e});case 8:return f=a.sent,a.next=11,f.wait();case 11:return c("success"),a.abrupt("return",!0);case 15:return a.prev=15,a.t0=a.catch(0),c("error"),p.Tb(a.t0),a.abrupt("return",!1);case 20:case"end":return a.stop()}},a,null,[[0,15]])}))).apply(this,arguments)}var v=c(80069),w=function(a){var b=a.userExpectedMon,c=(0,v.x)(b);return(0,d.jsxs)("div",{className:"top",children:[(0,d.jsx)("div",{className:"back-token",children:(0,d.jsx)("img",{width:130,src:"/img/launch/moneta-coin.png",alt:"",className:"img-fluid"})}),(0,d.jsx)("div",{className:"investments d-flex align-items-center justify-content-around",children:(0,d.jsxs)("div",{className:"receive d-flex align-items-center justify-content-around flex-column",children:[(0,d.jsx)("span",{className:"header-titles",children:"Moneta Claimable"}),(0,d.jsx)("div",{className:"header-values",children:c})]})})]})},x=function(){return(0,d.jsx)("section",{className:"hero",children:(0,d.jsx)("div",{className:"dchf-container",children:(0,d.jsx)("div",{className:"hero-header",children:(0,d.jsx)("h1",{className:"font-bold reveal",children:"Moneta Bootstrapping"})})})})},y=function(a){var b=a.title,c=a.value;return(0,d.jsxs)("div",{className:"item d-flex justify-content-between w-100",children:[(0,d.jsx)("div",{className:"title-wrapper",children:(0,d.jsx)("h1",{children:b})}),(0,d.jsx)("div",{className:"item-value",children:c})]})},z=function(a){var b=a.totalToClaim,c=a.claimed,e=a.remaining;return(0,d.jsxs)("div",{className:"information-section",children:[(0,d.jsx)(y,{title:"Total to Claim",value:"".concat((0,v.x)(b)," MON")}),(0,d.jsx)(y,{title:"Claimed so far",value:"".concat((0,v.x)(c)," MON (").concat((0,v.x)(c?c/b*100:"-"),"%)")}),(0,d.jsx)(y,{title:"Remaining to claim",value:"".concat((0,v.x)(e)," MON")})]})},A=c(26042),B=c(20701),C=c(77058),D={isActionLoading:!1,isSuccess:!1,isError:!1},E=function(a){var b=a.setForceRefresh,c=a.setIsCongratsModalOpen,f=a.claimable,h=(0,m.C)(n.D0),j=(0,k.G)().contracts,l=(0,i.useState)(D),o=l[0],p=l[1];function q(a){return r.apply(this,arguments)}function r(){return(r=(0,e.Z)(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c=(0,A.Z)({},D),"loading-transaction"===b&&(c.isActionLoading=!0),"success"===b&&(c.isSuccess=!0),"error"===b&&(c.isError=!0),p(c);case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}function s(){return(s=(0,e.Z)(g().mark(function a(){var d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(h){a.next=2;break}return a.abrupt("return",null);case 2:return a.next=4,t(j,q);case 4:(d=a.sent)&&(b(!0),c(!0));case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}var u=o.isActionLoading,v=function(a,b){if(!b)return"Connect your wallet";var c=a.isActionLoading,d=a.isSuccess;return c?"Claiming MON...":d?"Success":"Claim"}(o,h),w=(0,C.$)().t;return(0,d.jsxs)("div",{className:"card-stake-form",children:[(0,d.jsx)("button",{className:"button button-primary",onClick:function(){return s.apply(this,arguments)},disabled:!f,children:(0,d.jsxs)("div",{className:"confirmButtonMainWrapper",children:[(0,d.jsx)("div",{className:"selfCenter widthThirtyThree",children:v}),u&&(0,d.jsx)("div",{className:"spinnerWrapper",children:(0,d.jsx)(B.ZP,{})})]})}),o.isError&&(0,d.jsx)("div",{className:"selfCenter",style:{color:"#bf1304",margin:"8px 0"},children:(0,d.jsxs)("b",{children:[" ",w("somethingWentWrong")]})})]})},F={claimableAmount:0,totalAmountLeft:0,totalClaimed:0,totalToClaim:0},G=function(){var a=(0,m.C)(n.D0),b=(0,k.G)().contracts,c=(0,i.useState)(F),f=c[0],o=c[1],p=(0,i.useState)(!1),q=p[0],s=p[1],t=(0,i.useState)(!1),u=t[0],v=t[1],y=(0,j.Z)(),A=y.width,B=y.height,C=(0,i.useState)({width:0,height:0}),D=(C[0],C[1]);function G(){return H.apply(this,arguments)}function H(){return(H=(0,e.Z)(g().mark(function c(){var d;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a){c.next=2;break}return c.abrupt("return",null);case 2:return c.next=4,r(b,a);case 4:(d=c.sent)&&o(d);case 6:case"end":return c.stop()}},c)}))).apply(this,arguments)}return(0,i.useEffect)(function(){A<1/0&&B<1/0&&D({width:A,height:B})},[A]),(0,i.useEffect)(function(){a&&G()},[a]),(0,i.useEffect)(function(){q&&G()},[q]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.PB,{title:"Claim Moneta",description:"The DeFi Franc (DCHF) is a decentralized stablecoin, pegged to the Swiss Franc - The most secure, trusted and stable fiat currency in the world. The DeFi Franc is over-collateralized and is created through loans which are backed by ETH.",canonical:"https://www.defifranc.com/",openGraph:{title:"DeFi Franc (DCHF)",description:"The DeFi Franc (DCHF) is a decentralized stablecoin, pegged to the Swiss Franc - The most secure, trusted and stable fiat currency in the world. The DeFi Franc is over-collateralized and is created through loans which are backed by ETH.",url:"https://defifranc.com/",images:[{url:"/img/general/moneta-thumbnail.png",width:2048,height:1170},]}}),(0,d.jsxs)("div",{className:"claim main",children:[(0,d.jsx)(x,{}),(0,d.jsx)("section",{className:"dchf-works reveal",children:(0,d.jsx)("div",{className:"dchf-container",children:(0,d.jsx)("div",{className:"dchf-wallet-stats d-flex flex-column flex-md-row",children:(0,d.jsxs)("div",{className:"left",children:[(0,d.jsx)(w,{userExpectedMon:f.claimableAmount}),(0,d.jsx)(z,{totalToClaim:f.totalToClaim,claimed:f.totalClaimed,remaining:f.totalAmountLeft}),(0,d.jsx)(E,{setForceRefresh:function(){return s(function(a){return!a})},setIsCongratsModalOpen:v,claimable:f.totalToClaim>0})]})})})}),(0,d.jsx)(l.Z,{message:"You have successfully Claimed some of your Monetas!",isModalOpen:u,closeClick:function(){return v(function(a){return!a})}})]})]})},H=function(){return(0,d.jsx)(G,{})}},87029:function(a,b,c){"use strict";var d=c(85893),e=c(67294),f=c(40725),g=c.n(f),h=c(62964),i=function(a){var b=a.isModalOpen,c=a.closeClick,f=a.message,i=(0,h.Z)(),j=i.width,k=i.height,l=(0,e.useState)({width:0,height:0}),m=l[0],n=l[1];return(0,e.useEffect)(function(){j<1/0&&k<1/0&&n({width:j,height:k})},[j]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:b?"modal fade dchf-wallet-modal show":"modal fade dchf-wallet-modal",id:"wallet-connect","data-bs-backdrop":"static","aria-hidden":"true",style:b?{display:"block",background:"rgba(0,0,0,0.2)"}:{display:"none"},children:(0,d.jsx)("div",{className:"dchf-modal-dialog modal-dialog modal-dialog-centered",role:"document",children:(0,d.jsxs)("div",{className:"dchf-modal-content modal-content",children:[(0,d.jsx)("div",{className:"dchf-modal-top",children:(0,d.jsxs)("div",{className:"dchf-congrats-modal-title",children:[(0,d.jsx)("img",{src:"/img/icons/confetti-party.svg"}),(0,d.jsx)("h2",{children:"Congratulations"})]})}),(0,d.jsx)("div",{className:"dchf-modal-body dchf-wallet-wrap congratulate-modal-body",children:(0,d.jsx)("div",{className:"congratulation-modal-body",children:(0,d.jsx)("span",{children:void 0===f?"Congratulation, you successfully opened a trove":f})})}),(0,d.jsx)("button",{className:"congratulate-modal-button",onClick:c,children:"Done"})]})})}),b&&(0,d.jsx)(g(),{height:m.height,width:m.width})]})};b.Z=i},66018:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(67294),e=function(a){(0,d.useEffect)(a,[])},f=function(a){var b=(0,d.useRef)(a);b.current=a,e(function(){return function(){return b.current()}})},g=function(a){var b=(0,d.useRef)(0),c=(0,d.useState)(a),e=c[0],g=c[1],h=(0,d.useCallback)(function(a){cancelAnimationFrame(b.current),b.current=requestAnimationFrame(function(){g(a)})},[]);return f(function(){cancelAnimationFrame(b.current)}),[e,h]},h="undefined"!=typeof window,i=function(a,b){void 0===a&&(a=1/0),void 0===b&&(b=1/0);var c=g({width:h?window.innerWidth:a,height:h?window.innerHeight:b}),e=c[0],f=c[1];return(0,d.useEffect)(function(){if(h){var a=function(){f({width:window.innerWidth,height:window.innerHeight})};return function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];a&&a.addEventListener&&a.addEventListener.apply(a,b)}(window,"resize",a),function(){!function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];a&&a.removeEventListener&&a.removeEventListener.apply(a,b)}(window,"resize",a)}}},[]),e}}},function(a){a.O(0,[193,774,888,179],function(){var b;return a(a.s=74578)}),_N_E=a.O()}])